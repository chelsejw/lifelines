{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/chels/webdev/lifelines/app/javascript/packs/app/dashboard/Console/ConsoleContainer.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Request from './Request';\nvar token = document.querySelector(\"[name=csrf-token]\").content;\naxios.defaults.headers.common[\"X-CSRF-TOKEN\"] = token;\n\nvar ConsoleContainer = function ConsoleContainer(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      requests = _useState2[0],\n      setRequests = _useState2[1];\n\n  var approveRequest = function approveRequest(id) {\n    axios.get(\"/api/v1/verifications/\".concat(id, \"/approve\")).then(function (res) {\n      console.log(res.data);\n      fetchRequests();\n    })[\"catch\"](function (err) {\n      console.log(\"ERRRRROR\", err);\n    });\n  };\n\n  var rejectRequest = function rejectRequest(id) {\n    axios.get(\"/api/v1/verifications/\".concat(id, \"/reject\")).then(function (res) {\n      console.log(res.data);\n      fetchRequests();\n    })[\"catch\"](function (err) {\n      console.log(\"ERRRRROR\", err);\n    });\n  };\n\n  var fetchRequests = function fetchRequests() {\n    axios.get('/api/v1/verifications').then(function (res) {\n      setRequests(res.data);\n    })[\"catch\"](function (err) {\n      console.log(\"ERRRRROR\", err);\n    });\n  };\n\n  useEffect(function () {\n    fetchRequests();\n  }, []);\n  var requestElements = requests.map(function (request) {\n    return /*#__PURE__*/React.createElement(Request, {\n      approve: approveRequest,\n      reject: rejectRequest,\n      request: request,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Your Requests\"), requests.length !== 0 ? requestElements : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"You do not currently have any requests to authorize.\", \" \")));\n};\n\nexport default ConsoleContainer;","map":{"version":3,"sources":["/Users/chels/webdev/lifelines/app/javascript/packs/app/dashboard/Console/ConsoleContainer.js"],"names":["React","useState","useEffect","axios","Request","token","document","querySelector","content","defaults","headers","common","ConsoleContainer","props","requests","setRequests","approveRequest","id","get","then","res","console","log","data","fetchRequests","err","rejectRequest","requestElements","map","request","length"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,IAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4CC,OAA1D;AACAL,KAAK,CAACM,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgDN,KAAhD;;AAEA,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA,kBAEAZ,QAAQ,CAAC,EAAD,CAFR;AAAA;AAAA,MAEzBa,QAFyB;AAAA,MAEfC,WAFe;;AAIhC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,EAAD,EAAQ;AAE3Bd,IAAAA,KAAK,CAACe,GAAN,iCAAmCD,EAAnC,eACCE,IADD,CACM,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,MAAAA,aAAa;AAChB,KAJD,WAKO,UAAAC,GAAG,EAAI;AACVJ,MAAAA,OAAO,CAACC,GAAR,aAAwBG,GAAxB;AACH,KAPD;AAQH,GAVD;;AAWA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACT,EAAD,EAAQ;AAC1Bd,IAAAA,KAAK,CACFe,GADH,iCACgCD,EADhC,cAEGE,IAFH,CAEQ,UAACC,GAAD,EAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACCC,MAAAA,aAAa;AACf,KALH,WAMS,UAACC,GAAD,EAAS;AACdJ,MAAAA,OAAO,CAACC,GAAR,aAAwBG,GAAxB;AACD,KARH;AASH,GAVD;;AAWA,MAAMD,aAAa,GAAG,SAAhBA,aAAgB,GAAK;AACvBrB,IAAAA,KAAK,CAACe,GAAN,CAAU,uBAAV,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACTL,MAAAA,WAAW,CAACK,GAAG,CAACG,IAAL,CAAX;AACH,KAHD,WAIO,UAAAE,GAAG,EAAI;AACVJ,MAAAA,OAAO,CAACC,GAAR,aAAwBG,GAAxB;AACH,KAND;AAOH,GARD;;AAUAvB,EAAAA,SAAS,CAAC,YAAK;AACXsB,IAAAA,aAAa;AAChB,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAMG,eAAe,GAAGb,QAAQ,CAACc,GAAT,CAAa,UAAAC,OAAO,EAAG;AAC3C,wBAAO,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEb,cAAlB;AAAkC,MAAA,MAAM,EAAEU,aAA1C;AAAyD,MAAA,OAAO,EAAEG,OAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFuB,CAAxB;AAKA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAGGf,QAAQ,CAACgB,MAAT,KAAoB,CAApB,GACCH,eADD,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DACuD,GADvD,CADJ,CANJ,CADF;AAeH,CA5DD;;AA8DA,eAAef,gBAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from \"axios\";\nimport Request from './Request'\nconst token = document.querySelector(\"[name=csrf-token]\").content;\naxios.defaults.headers.common[\"X-CSRF-TOKEN\"] = token;\n\nconst ConsoleContainer = (props) => {\n\n    const [requests, setRequests] = useState([])\n\n    const approveRequest = (id) => {\n\n        axios.get(`/api/v1/verifications/${id}/approve`)\n        .then(res => {\n            console.log(res.data)\n            fetchRequests();\n        })\n        .catch(err => {\n            console.log(`ERRRRROR`, err);\n        })\n    }\n    const rejectRequest = (id) => {\n        axios\n          .get(`/api/v1/verifications/${id}/reject`)\n          .then((res) => {\n            console.log(res.data);\n             fetchRequests();\n          })\n          .catch((err) => {\n            console.log(`ERRRRROR`, err);\n          });\n    }\n    const fetchRequests = ()=> {\n        axios.get('/api/v1/verifications')\n        .then(res => {\n            setRequests(res.data)\n        })\n        .catch(err => {\n            console.log(`ERRRRROR`, err);\n        })\n    }\n\n    useEffect(()=> {\n        fetchRequests();\n    }, [])\n\n    const requestElements = requests.map(request=> {\n        return <Request approve={approveRequest} reject={rejectRequest} request={request}/>\n    })\n    \n\n    return (\n      <div>\n        <h2 className=\"mb-4\">Your Requests</h2>\n\n        {requests.length !== 0 ? (\n          requestElements\n        ) : (\n          <div>\n              <h4 className=\"text-secondary\">\n                You do not currently have any requests to authorize.{\" \"}\n              </h4>\n          </div>\n        )}\n      </div>\n    );\n}\n\nexport default ConsoleContainer"]},"metadata":{},"sourceType":"module"}