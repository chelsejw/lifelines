{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/chels/webdev/lifelines/app/javascript/packs/app/chat/MessagesArea.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport NewMessageForm from \"./NewMessageForm\";\nimport moment from 'moment';\nimport Fade from 'react-reveal/Fade';\n\nvar MessagesArea = function MessagesArea(props) {\n  useEffect(function () {\n    var elem = document.querySelector('.messages');\n    elem.scrollTop = elem.scrollHeight;\n  }, []);\n\n  var orderedMessages = function orderedMessages(messages) {\n    var sortedMessages = messages.sort(function (a, b) {\n      return new Date(a.created_at) > new Date(b.created_at) ? 1 : -1;\n    });\n    return sortedMessages.map(function (message) {\n      if (message.user.id == props.currentUser.user.id) {\n        return /*#__PURE__*/React.createElement(Fade, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"sent-message text-right my-4\",\n          key: message.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"font-sm\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 15\n          }\n        }, \"You\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"bg-danger text-light my-2 text-bod\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 15\n          }\n        }, message.text), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"font-sm\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 15\n          }\n        }, moment(message.created_at).fromNow())));\n      }\n\n      console.log(message);\n      return /*#__PURE__*/React.createElement(Fade, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"received-message text-left my-4\",\n        key: message.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"font-sm\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, message.profile.display_name), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-light text-dark my-2 text-bod\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, message.text), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"font-sm\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, moment(message.created_at).fromNow())));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messagesArea\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, orderedMessages(props.conversation.messages)), /*#__PURE__*/React.createElement(NewMessageForm, {\n    conversation_id: props.conversation.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default MessagesArea; // helpers","map":{"version":3,"sources":["/Users/chels/webdev/lifelines/app/javascript/packs/app/chat/MessagesArea.jsx"],"names":["React","useEffect","NewMessageForm","moment","Fade","MessagesArea","props","elem","document","querySelector","scrollTop","scrollHeight","orderedMessages","messages","sortedMessages","sort","a","b","Date","created_at","map","message","user","id","currentUser","text","fromNow","console","log","profile","display_name","conversation"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport NewMessageForm from \"./NewMessageForm\";\nimport moment from 'moment'\nimport Fade from 'react-reveal/Fade'\nconst MessagesArea = (props) => {\n\n  useEffect(()=> {\n    var elem = document.querySelector('.messages');\n    elem.scrollTop = elem.scrollHeight;\n  }, [])\n\n\n  const orderedMessages = (messages) => {\n    const sortedMessages = messages.sort((a, b) =>\n      new Date(a.created_at) > new Date(b.created_at) ? 1 : -1\n    );\n    return sortedMessages.map((message) => {\n      if (message.user.id == props.currentUser.user.id) {\n        return (\n          <Fade>\n            <div className=\"sent-message text-right my-4\" key={message.id}>\n              <div className=\"font-sm\">You</div>\n              <span className=\"bg-danger text-light my-2 text-bod\">\n                {message.text}\n              </span>\n              <div className=\"font-sm\">\n                {moment(message.created_at).fromNow()}\n              </div>\n            </div>\n          </Fade>\n        );\n      }\n      console.log(message);\n      return (\n        <Fade>\n          <div className=\"received-message text-left my-4\" key={message.id}>\n            <div className=\"font-sm\">{message.profile.display_name}</div>\n            <span className=\"bg-light text-dark my-2 text-bod\">\n              {message.text}\n            </span>\n            <div className=\"font-sm\">\n              {moment(message.created_at).fromNow()}\n            </div>\n          </div>\n        </Fade>\n      );\n    });\n  };\n\n  return (\n    <div className=\"messagesArea\">\n      <div className=\"messages p-4\">{orderedMessages(props.conversation.messages)}</div>\n\n      <NewMessageForm conversation_id={props.conversation.id} />\n    </div>\n  );\n};\n\nexport default MessagesArea;\n\n// helpers\n\n"]},"metadata":{},"sourceType":"module"}